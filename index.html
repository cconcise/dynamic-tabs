<!DOCTYPE html><html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Tabs</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="./tabs.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"><!-- this icon font used for example only, and you can use anything else -->
	<style>
		body {
			margin: 0;
			color: #303030;
		}
		.spacer {
			height: 50px;
			background-color: gainsboro;
		}
	</style>
</head>
<body>

	<div class="spacer"></div>

	<div id="section-tabs" class="dynamic-tabs">
		<div class="dynamic-tab-arrow arrow-left"><div class="material-icons" aria-label="scroll left">navigate_before</div></div>
		<div class="dynamic-tabs-framer">
			<nav class="dynamic-tabs-list">
				<div onclick="moveTo('first')" class="dynamic-tab" id="main-first">FIRST</div>
				<div onclick="moveTo('second')" class="dynamic-tab" id="main-second">THE SECOND</div>
				<div onclick="moveTo('third')" class="dynamic-tab" id="main-third">THIRD THING</div>
				<div onclick="moveTo('fourth')" class="dynamic-tab" id="main-fourth">FOURTH</div>
				<div onclick="moveTo('fifth')" class="dynamic-tab" id="main-fifth">FIVE</div>
				<div onclick="moveTo('sixth')" class="dynamic-tab" id="main-sixth">ELEMENT SIX</div>
				<div onclick="moveTo('seventh')" class="dynamic-tab" id="main-seventh">SEVENTH</div>
			</nav>
			<div class="dynamic-tabs-indicator"><div class="dt-indicator-bar"></div></div>
		</div>
		<div class="dynamic-tab-arrow arrow-right"><div class="material-icons" aria-label="scroll right">navigate_next</div></div>
	</div>

	<div class="spacer"></div>

	<a id="refresh">REFRESH</a><br>

	<button id="show-odd">Odd Tabs</button>
	<button id="show-even">Even Tabs</button>
	<button id="show-all">All Tabs</button>

	<br>

	<button id="deregister-all">Deregister All</button>

</body>

	<script type="module">

		import DynamicTabs from "./tabs.js";

		const p = window.location.pathname,
			urlQs = window.location.search;

		document.getElementById("refresh").href = p;

		// In this setup, we are pretending this is a single-page application and the URL path is changing.
		function moveTo(path) {
			window.history.pushState("", "", p + "/" + path + urlQs)
		}

		const tabIDs = ["first", "second", "third", "fourth", "fifth", "sixth", "seventh"];

		for (var i = 0; i < tabIDs.length; i++) {
			(function(indx) {
				document.getElementById("main-"+tabIDs[i]).addEventListener("click", function() {
					moveTo(tabIDs[indx]);
				});
			})(i);
		}

		// register the container element by ID
		let myTabs = new DynamicTabs("section-tabs");

		// register all tabs that have the class "dynamic-tab"
		myTabs.registerAllTabs();

		document.getElementById("show-odd").addEventListener("click", () => {
			myTabs.deregisterAllTabs();
			myTabs.registerTabs(tabIDs.filter((x, i) => {
				return i % 2 === 0;
			}), "main-");
		});

		document.getElementById("show-even").addEventListener("click", () => {
			myTabs.deregisterAllTabs();
			myTabs.registerTabs(tabIDs.filter((x, i) => {
				return i % 2 !== 0;
			}), "main-");
		});

		document.getElementById("show-all").addEventListener("click", () => {
			myTabs.deregisterAllTabs();
			myTabs.registerTabs(tabIDs, "main-");
		});

		document.getElementById("deregister-all").addEventListener("click", () => {
			myTabs.deregisterAllTabs();
		});

	</script>

</html>